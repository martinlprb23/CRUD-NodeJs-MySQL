<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Agregar Medicamentos</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>

    <!-- Icons font CSS-->
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

    <!-- Vendor CSS-->
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/datepicker/daterangepicker.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="/styles/style_form.css" rel="stylesheet" media="all">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>

    <script type="text/javascript">
    // Initialize our function when the document is ready for events.
    jQuery(document).ready(function(){
       

        $("#nombre").bind('keypress', function(event) {
            var regex = new RegExp("^[a-zA-Z ]+$");
            var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
            if (!regex.test(key)) {
                  alert("Mucho ojo cuate! Solo se permiten letras.")
                event.preventDefault();
                return false;
            }
        });

        $("#tipo_m").bind('keypress', function(event) {
            var regex = new RegExp("^[a-zA-Z ]+$");
            var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
            if (!regex.test(key)) {
                alert("Mucho ojo cuate! Solo se permiten letras.")
                event.preventDefault();
                return false;
            }
        });

        
        $("#tipo_c").bind('keypress', function(event) {
            var regex = new RegExp("^[a-zA-Z ]+$");
            var key = String.fromCharCode(!event.charCode ? event.which : event.charCode);
            if (!regex.test(key)) {
                alert("Mucho ojo cuate! Solo se permiten letras.")
                event.preventDefault();
                return false;
            }
        });

        
        jQuery("#cantidad_unidad").on('input', function (evt) {
            // Allow only numbers.
            jQuery(this).val(jQuery(this).val().replace(/[^0-9]/g, ''));
        });

        jQuery("#concentracion_unidad").on('input', function (evt) {
            // Allow only numbers.
            jQuery(this).val(jQuery(this).val().replace(/[^0-9]/g, ''));
        });
        

    });


    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("formulario").addEventListener('submit', validarFormulario); 
    });


    function validarFormulario(evento) {
    evento.preventDefault();
        
        var nombre = document.getElementById('nombre').value;
        if (nombre.length < 4 || nombre.length > 25) {
            alert('Verifiqué el campo Nombre!\nPuede que el número permitido de letras sea excedido o sea menor al permitido.');
            return;
        }
        var tipo_m = document.getElementById('tipo_m').value;
        if (tipo_m.length < 4  || tipo_m > 25) {
            alert('Verifiqué el campo Tipo Medicamento!\nPuede que el número permitido de letras sea excedido o sea menor al permitido.');
            return;
        }

        var tipo_c = document.getElementById('tipo_c').value;
        if (tipo_c.length < 4  || tipo_c > 25) {
            alert('Verifiqué el campo Tipo Consumible!\nPuede que el número permitido de letras sea excedido o sea menor al permitido.');
            return;
        }

        var can_c = document.getElementById('cantidad_unidad').value;
        if (can_c.length <1  || can_c.length > 4) {
            alert('Verifiqué el campo Cantidad Unidad!\nRango de cantidad no válido.');
            return;
        }

        var con_c = document.getElementById('concentracion_unidad').value;
        if (con_c.length <1  || can_c.length > 4) {
            alert('Verifiqué el campo Concetración Unidad!\nRango de concentración no válido.');
            return;
        }


        this.submit();
    }

    </script> 

</head>
<body >
    <div class="page-wrapper bg-gra-02  font-poppins">
        <div class="wrapper wrapper--w600">
            <div class="card card-4">
                <div class="card-body">
                    <h2 class="title">Registrar Medicamentos</h2>
                    <form method="POST" id="formulario">
                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Nombre</label>
                                    <input class="input--style-4" type="text" name="nombre" id="nombre">
                                </div>
                            </div>
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Tipo Medicamento</label>
                                    <input class="input--style-4" type="text" name="tipo_m" id="tipo_m">
                                </div>
                            </div>
                        </div>
                     

                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Tipo Consumible</label>
                                    <input class="input--style-4" type="text" name="tipo_c" id="tipo_c">
                                </div>
                            </div>
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Cantidad Unidad</label>
                                    <input class="input--style-4" type="text" name="cantidad_unidad" id="cantidad_unidad">
                                </div>
                            </div>
                        </div>
                           
                        <div class="row row-space">
                            <div class="col-2">
                                <div class="input-group">
                                    <label class="label">Concentración Unidad</label>
                                    <input class="input--style-4" type="text" name="concentracion_unidad" id="concentracion_unidad">
                                </div>
                            </div>
                        </div>

                      
                        <div class="p-t-15">
                       <center>    <button class="btn btn--radius-2 btn--blue" type="submit2">Registrar</button> </center> 
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/script.js"></script>

</body>
</html>